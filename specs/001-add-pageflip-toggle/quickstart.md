# Quickstart: 书页模式翻页动效开关

## 1. 准备环境

1. 在仓库根目录安装依赖：
   - `npm install`
2. 启动开发环境：
   - `npm run dev`

## 2. 功能验证路径

1. 进入阅读器并切换到书页模式。
2. 在设置区找到“翻页动效”选项，确认默认值为“拟真翻页”。
3. 分别切换为“平移翻页”和“无动效”，每次执行上一页/下一页，确认表现与选项一致。
4. 使用点击、滚轮、键盘、自动翻页触发翻页，确认均应用同一有效动效设置。
5. 在第一页执行上一页、在末页执行下一页，确认不会越界。

## 3. 持久化验证

1. 将翻页动效设置为“平移翻页”或“无动效”。
2. 退出当前阅读会话并重新进入任意书页模式画集。
3. 验证动效设置仍为上次选择值（全局生效）。
4. 人工构造无效设置值后重启会话，确认自动回退到“拟真翻页”。

## 4. 可访问性与性能验证

1. 开启系统 reduced-motion 偏好后启动阅读器，确认在未显式覆盖时采用低运动/无动效策略。
2. 快速连续触发翻页，确认无明显队列积压、页码错乱或长时间空白。
3. 在常见桌面分辨率下验证动画流畅性，确保交互可见响应及时。

## 5. 质量检查

1. 运行类型检查：
   - `npm run type-check`
2. 若有构建验收需求，执行：
   - `npm run build`

## 6. 任务完成判定（新增）

1. 每次开发完成后必须先运行：
   - `npm run dev`
2. 使用 `chrome-devtools-mcp` 打开页面并完成功能验收：
   - 默认值为“拟真翻页”
   - 三档切换立即生效
   - 重进会话后保持上次选择
3. 验收结果记录到任务或 PR 描述后，方可判定该任务完成。
